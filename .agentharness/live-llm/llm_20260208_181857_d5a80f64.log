AgentHarness LLM Live Output
Start: 2026-02-08T18:18:57
CWD: C:/Users/shlob/Pycharm Projects/harness-test/harness-test-4
Command: gemini --model gemini-3-pro-preview --yolo

Provider: Gemini, Model: gemini-3-pro-preview | Timeout: 300s
Prompt transport: stdin (27875 chars)
LLM prompt begin (stdin)
Create a git commit message and write it to `.agentharness/git-commit-message.txt`.

Rules:
1. Only edit `.agentharness/git-commit-message.txt`.
2. Write a concise commit message following standards.
3. Use the provided git status and diff snapshot; do not run git commands.
4. Do not create or modify any other file.

Commit message quality:
- Start with a verb (Add, Fix, Update, Implement, Refactor, etc.)
- Be concise but specific
- Reflect the main change just completed in the provided git diff snapshot and in the recent changes file

GIT STATUS (PORCELAIN):
M .agentharness/git-commit-message.txt
 M .codex_last_message.txt
 M developer-guide.md
 M recent-changes.md
 M src/core/__init__.py
 M src/core/__pycache__/__init__.cpython-311.pyc
 M src/core/developer-guide.md
 M src/developer-guide.md
 M src/player/__init__.py
 M src/player/__pycache__/__init__.cpython-311.pyc
 M src/player/__pycache__/player.cpython-311.pyc
 M src/player/developer-guide.md
 M src/player/player.py
 M src/weapons/__init__.py
 M src/weapons/__pycache__/__init__.cpython-311.pyc
 M src/weapons/__pycache__/weapon.cpython-311.pyc
 M src/weapons/developer-guide.md
 M src/weapons/weapon.py
 M tasks.md
 M tests/developer-guide.md
?? .agentharness/live-llm/llm_20260208_181040_cc5f88fb.log
?? .agentharness/live-llm/llm_20260208_181604_401d52c0.log
?? .agentharness/live-llm/llm_20260208_181734_cddc304d.log
?? .agentharness/live-llm/llm_20260208_181832_fe2fc9b3.log
?? src/core/__pycache__/camera.cpython-311.pyc
?? src/core/__pycache__/collision.cpython-311.pyc
?? src/core/__pycache__/movement.cpython-311.pyc
?? src/core/camera.py
?? src/core/collision.py
?? src/core/movement.py
?? src/projectiles/
?? src/weapons/__pycache__/assault_rifle.cpython-311.pyc
?? src/weapons/__pycache__/rpg.cpython-311.pyc
?? src/weapons/__pycache__/shotgun.cpython-311.pyc
?? src/weapons/assault_rifle.py
?? src/weapons/rpg.py
?? src/weapons/shotgun.py
?? tests/__pycache__/test_advanced_combat_and_movement.cpython-311-pytest-9.0.2.pyc
?? tests/test_advanced_combat_and_movement.py

GIT DIFF:
diff --git a/.agentharness/git-commit-message.txt b/.agentharness/git-commit-message.txt
index 38fef45..e69de29 100644
--- a/.agentharness/git-commit-message.txt
+++ b/.agentharness/git-commit-message.txt
@@ -1,8 +0,0 @@
-Implement core gameplay foundations, player, and weapon systems
-
-- Implement `GameLoop`, `GameStateManager`, `InputHandler`, and `GameClock` in `src/core/`.
-- Implement `Player` class with health, economy, inventory, and shooting logic in `src/player/`.
-- Implement `Weapon` base class and `Pistol` in `src/weapons/`.
-- Add comprehensive unit tests in `tests/` for all new systems.
-- Update documentation and task tracking to reflect progress.
-- Improve error handling for weapon equipping, fire rate validation, and game loop callbacks.
\ No newline at end of file
diff --git a/.codex_last_message.txt b/.codex_last_message.txt
index 0fb2a8f..62ed373 100644
--- a/.codex_last_message.txt
+++ b/.codex_last_message.txt
@@ -1,3 +1 @@
-No UI/UX issues found in the current `git diff`, so `review/ui_ux.md` remains empty.
-
-Tests not run (not requested).
\ No newline at end of file
+No UI/UX issues found in `git diff`. `review/ui_ux.md` remains empty.
\ No newline at end of file
diff --git a/developer-guide.md b/developer-guide.md
index 0f16dc9..eb90090 100644
--- a/developer-guide.md
+++ b/developer-guide.md
@@ -7,14 +7,17 @@ The current codebase implements engine-agnostic gameplay foundations in pure Pyt
 - Core runtime loop and timing
 - State machine for high-level game flow
 - Input normalization for WASD + mouse look
-- Player model with health, money, inventory, and shooting
-- Weapon base behavior and starter pistol
+- First-person camera and movement/collision simulation
+- Player model with health, money, inventory, weapon switching, reload, and respawn/game-over
+- Weapon system with pistol, shotgun, assault rifle, and RPG
+- Projectile entities and physics for bullets, pellets, and rockets
 
 ## Directory Map
 - `src/`: runtime game systems.
-  - `src/core/`: game loop, game clock, state manager, input handler.
-  - `src/player/`: player model and starter loadout behavior.
-  - `src/weapons/`: base weapon logic and concrete weapons.
+  - `src/core/`: game loop, game clock, state manager, input, camera, movement, and collision primitives.
+  - `src/player/`: player runtime state, combat APIs, inventory switching, reload, and respawn.
+  - `src/weapons/`: weapon base model and concrete implementations.
+  - `src/projectiles/`: projectile entity construction and world collision physics.
 - `assets/`: static assets (models, audio, textures). Currently placeholder-only.
 - `config/`: centralized runtime configuration modules.
 - `tests/`: automated test suite.
@@ -33,9 +36,12 @@ The current codebase implements engine-agnostic gameplay foundations in pure Pyt
 - `GameLoop.step(now)` advances time each frame and dispatches updates only while in `playing`.
 - `GameStateManager` enforces valid transitions across `menu`, `playing`, `paused`, and `crashed`.
 - `InputHandler.build_frame(...)` translates keyboard/mouse input into movement/look axes.
-- `Player` enforces bounded health, validated currency operations, inventory ownership checks, and alive-only firing.
-- `Weapon.fire(now)` enforces cooldown + ammo consumption.
-- `Pistol` is the starter weapon with tuned prototype stats.
+- `FirstPersonCamera` tracks yaw/pitch and clamps vertical look.
+- `PlayerMovementController` applies yaw-relative movement and resolves AABB wall collisions with slide behavior.
+- `Player` enforces bounded health, game-over on death, validated currency operations, inventory ownership checks, weapon cycling, reload, projectile firing, and respawn.
+- `Weapon` enforces cooldown/ammo, reload behavior, and projectile payload generation.
+- `Pistol`, `Shotgun`, `AssaultRifle`, and `RPG` provide progression-ready weapon behavior; RPG toggles a crash trigger flag when fired.
+- `ProjectilePhysicsSystem` advances projectile motion and deactivates projectiles that hit walls or leave world bounds.
 
 ## Development Notes
 - Keep gameplay constants in `config/config.py` until a richer configuration layer is needed.
diff --git a/recent-changes.md b/recent-changes.md
index df03c55..52c11ab 100644
--- a/recent-changes.md
+++ b/recent-changes.md
@@ -1,35 +1,21 @@
 # Recent Changes
 
+## 2026-02-08 (Code Review Fix)
+- Fixed `CollisionWorld.outside_world_bounds` in `src/core/collision.py` to use containment check instead of intersection check. Now correctly returns `True` when any part of a box is outside world bounds, preventing players/projectiles from drifting outside world edges.
+
 ## 2026-02-08
+- Implemented first-person camera state in `src/core/camera.py` with yaw/pitch mouse-look updates and pitch clamping.
+- Implemented collision primitives and movement controller in `src/core/collision.py` and `src/core/movement.py` for player movement with wall/bounds collision and slide resolution.
+- Added new weapon implementations:
+  - `src/weapons/shotgun.py` (pellet spread payload)
+  - `src/weapons/assault_rifle.py` (rapid fire)
+  - `src/weapons/rpg.py` (crash trigger flag when fired)
+- Extended `src/weapons/weapon.py` with ammo reload mechanics, total ammo tracking, and projectile payload generation.
+- Extended `src/player/player.py` with weapon cycling, reload delegation, projectile firing API, game-over state on death, and respawn handling.
+- Added projectile package `src/projectiles/`:
+  - `projectile.py` for projectile entities and movement/lifetime
+  - `physics.py` for projectile movement and world collision deactivation
+- Updated package exports in `src/core/__init__.py`, `src/player/__init__.py`, and `src/weapons/__init__.py`.
+- Added `tests/test_advanced_combat_and_movement.py` covering camera look, movement collision, weapon switching/reload/respawn, new weapons, and projectile physics.
+- Verified full test suite passes: `19 passed`.
 
-- Implemented foundational gameplay runtime modules:
-  - `src/core/game_state.py`: validated game state manager for `menu`, `playing`, `paused`, `crashed`.
-  - `src/core/game_clock.py`: delta-time and elapsed-time tracking.
-  - `src/core/input_handler.py`: WASD + mouse-look input normalization.
-  - `src/core/game_loop.py`: frame-stepped loop that dispatches updates only in `playing`.
-- Implemented player systems in `src/player/player.py`:
-  - player creation with position/rotation/health/money
-  - health damage/heal/death behavior
-  - money add/spend behavior with validation
-  - weapon inventory ownership and equip rules
-  - shooting through equipped weapon with ammo/cooldown enforcement
-- Implemented weapon systems:
-  - `src/weapons/weapon.py`: reusable weapon base class with common stats and cooldown-aware firing.
-  - `src/weapons/pistol.py`: starter pistol stats and behavior.
-- Added/updated developer documentation:
-  - `src/developer-guide.md`
-  - `src/core/developer-guide.md`
-  - `src/player/developer-guide.md`
-  - `src/weapons/developer-guide.md`
-  - `tests/developer-guide.md`
-  - root `developer-guide.md`
-- Added automated tests and fixed import configuration:
-  - `tests/conftest.py`
-  - `tests/test_core_systems.py`
-  - `tests/test_player_and_weapons.py`
-- Added `test_player_position_and_rotation_setters` to `tests/test_player_and_weapons.py` to verify transform updates.
-- **Error Handling Improvements (Code Review Fixes)**:
-  - `src/player/player.py`: Changed `equipped_weapon_name` default from `"Pistol"` to `None`. Added validation in `equipped_weapon` property to raise descriptive `ValueError` if weapon is not equipped or not in inventory, preventing `KeyError` crashes.
-  - `src/weapons/weapon.py`: Added validation in `__post_init__` to ensure `fire_rate > 0`, preventing `ZeroDivisionError` in `cooldown_seconds` property.
-  - `src/core/game_loop.py`: Added per-callback exception handling in `step()` method. Callbacks that fail now log errors without crashing the game loop, ensuring other callbacks continue to run.
-- Validation: `pytest -q` passes (`14 passed`).
diff --git a/src/core/__init__.py b/src/core/__init__.py
index e093d60..b79dce6 100644
--- a/src/core/__init__.py
+++ b/src/core/__init__.py
@@ -1,2 +1,23 @@
 """Core runtime systems for FPS Bot Arena."""
 
+from src.core.camera import FirstPersonCamera
+from src.core.collision import AABB, CollisionWorld
+from src.core.game_clock import GameClock
+from src.core.game_loop import GameLoop
+from src.core.game_state import GameState, GameStateManager
+from src.core.input_handler import InputFrame, InputHandler, InputSnapshot
+from src.core.movement import PlayerMovementController
+
+__all__ = [
+    "AABB",
+    "CollisionWorld",
+    "FirstPersonCamera",
+    "GameClock",
+    "GameLoop",
+    "GameState",
+    "GameStateManager",
+    "InputFrame",
+    "InputHandler",
+    "InputSnapshot",
+    "PlayerMovementController",
+]
diff --git a/src/core/__pycache__/__init__.cpython-311.pyc b/src/core/__pycache__/__init__.cpython-311.pyc
index 801b4b4..b92a2a6 100644
Binary files a/src/core/__pycache__/__init__.cpython-311.pyc and b/src/core/__pycache__/__init__.cpython-311.pyc differ
diff --git a/src/core/developer-guide.md b/src/core/developer-guide.md
index f6e869a..52f31e2 100644
--- a/src/core/developer-guide.md
+++ b/src/core/developer-guide.md
@@ -8,9 +8,15 @@
 - `game_clock.py`: `GameClock` for frame delta-time and total elapsed time tracking.
 - `input_handler.py`: `InputSnapshot` and `InputHandler` for WASD + mouse look normalization.
 - `game_loop.py`: `GameLoop` that runs frame steps and calls update callbacks while in `playing`.
+- `camera.py`: `FirstPersonCamera` yaw/pitch state with clamped vertical look limits.
+- `collision.py`: AABB and `CollisionWorld` primitives for wall/bounds collision checks.
+- `movement.py`: `PlayerMovementController` for yaw-relative movement with collision + slide resolution.
 
 ## Behavior Notes
 - `GameStateManager` blocks invalid transitions with `ValueError`.
 - `GameLoop.step(now)` always advances the clock, but only runs callbacks in `playing`.
 - Mouse look is sensitivity-scaled and pitch is inverted (`mouse up` => positive look pitch).
-
+- Camera pitch is clamped to avoid flipping.
+- Movement uses local input (`WASD`) transformed by yaw into world-space direction.
+- Movement checks full displacement first, then attempts axis-aligned slide fallback before stopping.
+- `CollisionWorld.outside_world_bounds` checks full containment: returns `True` if any part of the box is outside world bounds.
diff --git a/src/developer-guide.md b/src/developer-guide.md
index 155dc79..e8a3abf 100644
--- a/src/developer-guide.md
+++ b/src/developer-guide.md
@@ -1,16 +1,18 @@
 # Src Developer Guide
 
 ## Purpose
-`src/` contains the game runtime modules for loop/state management, player logic, and weapons.
+`src/` contains the game runtime modules for loop/state management, player logic, weapons, and projectile simulation.
 
 ## Folder Overview
-- `core/`: frame stepping, game clock, state machine, and input normalization.
-- `player/`: player runtime model (health, money, inventory, equipped weapon, shooting).
-- `weapons/`: reusable weapon abstractions and concrete weapon implementations.
+- `core/`: frame stepping, game clock, state machine, input normalization, first-person camera state, movement, and collision primitives.
+- `player/`: player runtime model (health, money, inventory, weapon switching, reload, shooting, game-over/respawn).
+- `weapons/`: reusable weapon abstractions and concrete weapon implementations (pistol/shotgun/assault rifle/RPG).
+- `projectiles/`: projectile entities plus physics stepping and world collision checks.
 
 ## Integration Flow
 1. The platform layer collects raw input and passes it to `core.input_handler.InputHandler`.
-2. The game loop (`core.game_loop.GameLoop`) advances time using `core.game_clock.GameClock`.
-3. When in `playing` state, registered update callbacks apply gameplay changes each frame.
-4. Player actions call into weapon models for ammo/cooldown-validated firing.
-
+2. Mouse look deltas update `core.camera.FirstPersonCamera`; resulting yaw drives movement direction.
+3. `core.movement.PlayerMovementController` computes collision-aware movement against `core.collision.CollisionWorld`.
+4. The game loop (`core.game_loop.GameLoop`) advances time using `core.game_clock.GameClock`.
+5. Player actions call weapon models for cooldown/ammo/reload behavior and projectile payload generation.
+6. `projectiles.physics.ProjectilePhysicsSystem` advances active projectiles and resolves wall/bounds collisions.
diff --git a/src/player/__init__.py b/src/player/__init__.py
index 52297c3..1315480 100644
--- a/src/player/__init__.py
+++ b/src/player/__init__.py
@@ -1,2 +1,5 @@
 """Player state and gameplay behavior."""
 
+from src.player.player import Player
+
+__all__ = ["Player"]
diff --git a/src/player/__pycache__/__init__.cpython-311.pyc b/src/player/__pycache__/__init__.cpython-311.pyc
index 9548299..9e4d071 100644
Binary files a/src/player/__pycache__/__init__.cpython-311.pyc and b/src/player/__pycache__/__init__.cpython-311.pyc differ
diff --git a/src/player/__pycache__/player.cpython-311.pyc b/src/player/__pycache__/player.cpython-311.pyc
index c3fd994..99a6de1 100644
Binary files a/src/player/__pycache__/player.cpython-311.pyc and b/src/player/__pycache__/player.cpython-311.pyc differ
diff --git a/src/player/developer-guide.md b/src/player/developer-guide.md
index 28ff6dc..2e946f7 100644
--- a/src/player/developer-guide.md
+++ b/src/player/developer-guide.md
@@ -18,6 +18,12 @@
 - Inventory logic:
   - Weapons are stored by name.
   - `equip_weapon` requires ownership.
+  - `cycle_weapon(direction)` supports next/previous switching through owned weapons.
 - Combat logic:
   - `shoot(now)` delegates to the equipped weapon and consumes ammo only on successful shots.
-
+  - `reload_weapon()` delegates magazine refill from reserve ammo.
+  - `shoot_projectiles(...)` returns instantiated projectile entities for projectile simulation systems.
+- Death/respawn logic:
+  - Health reaching `0` marks `is_game_over=True`.
+  - `shoot` is blocked while game over.
+  - `respawn(spawn_position)` resets health and clears game-over state.
diff --git a/src/player/player.py b/src/player/player.py
index 085c5b0..04eedcc 100644
--- a/src/player/player.py
+++ b/src/player/player.py
@@ -4,6 +4,7 @@ from __future__ import annotations
 
 from dataclasses import dataclass, field
 
+from src.projectiles.projectile import Projectile
 from src.weapons.pistol import Pistol
 from src.weapons.weapon import Weapon
 
@@ -19,6 +20,7 @@ class Player:
     rotation: tuple[float, float] = (0.0, 0.0)
     inventory: dict[str, Weapon] = field(default_factory=dict)
     equipped_weapon_name: str | None = None
+    is_game_over: bool = False
 
     @classmethod
     def with_starter_loadout(cls, start_health: int, start_money: int) -> "Player":
@@ -58,6 +60,8 @@ class Player:
         if damage < 0:
             raise ValueError("Damage must be non-negative.")
         self.health = max(0, self.health - damage)
+        if self.health == 0:
+            self.is_game_over = True
 
     def heal(self, amount: int) -> None:
         """Restore health without exceeding max health."""
@@ -88,9 +92,47 @@ class Player:
             raise ValueError(f"Weapon '{weapon_name}' not in inventory.")
         self.equipped_weapon_name = weapon_name
 
+    def cycle_weapon(self, direction: int = 1) -> str:
+        """Cycle through inventory weapons and return the newly equipped name."""
+        if direction == 0:
+            raise ValueError("direction cannot be 0.")
+        weapon_names = list(self.inventory.keys())
+        if not weapon_names:
+            raise ValueError("No weapons available in inventory.")
+        if self.equipped_weapon_name not in weapon_names:
+            self.equipped_weapon_name = weapon_names[0]
+            return self.equipped_weapon_name
+        current_index = weapon_names.index(self.equipped_weapon_name)
+        next_index = (current_index + direction) % len(weapon_names)
+        self.equipped_weapon_name = weapon_names[next_index]
+        return self.equipped_weapon_name
+
+    def reload_weapon(self) -> int:
+        return self.equipped_weapon.reload()
+
     def shoot(self, now: float) -> bool:
         """Attempt to fire the equipped weapon. Returns True when a shot is fired."""
-        if not self.is_alive:
+        if not self.is_alive or self.is_game_over:
             return False
         return self.equipped_weapon.fire(now)
 
+    def shoot_projectiles(
+        self,
+        now: float,
+        origin: tuple[float, float, float],
+        direction: tuple[float, float, float],
+    ) -> list[Projectile]:
+        """Fire the equipped weapon and return instantiated projectile entities."""
+        if not self.shoot(now):
+            return []
+        payload = self.equipped_weapon.create_projectile_payload(
+            origin=origin,
+            direction=direction,
+        )
+        return [Projectile.from_payload(item) for item in payload]
+
+    def respawn(self, spawn_position: tuple[float, float, float]) -> None:
+        """Reset player death/game-over state and place at spawn."""
+        self.health = self.max_health
+        self.position = spawn_position
+        self.is_game_over = False
diff --git a/src/weapons/__init__.py b/src/weapons/__init__.py
index d07cd43..d6f6ab3 100644
--- a/src/weapons/__init__.py
+++ b/src/weapons/__init__.py
@@ -1,2 +1,9 @@
 """Weapon definitions and shared weapon behavior."""
 
+from src.weapons.assault_rifle import AssaultRifle
+from src.weapons.pistol import Pistol
+from src.weapons.rpg import RPG
+from src.weapons.shotgun import Shotgun
+from src.weapons.weapon import Weapon
+
+__all__ = ["Weapon", "Pistol", "Shotgun", "AssaultRifle", "RPG"]
diff --git a/src/weapons/__pycache__/__init__.cpython-311.pyc b/src/weapons/__pycache__/__init__.cpython-311.pyc
index 21d3a5a..59d98f4 100644
Binary files a/src/weapons/__pycache__/__init__.cpython-311.pyc and b/src/weapons/__pycache__/__init__.cpython-311.pyc differ
diff --git a/src/weapons/__pycache__/weapon.cpython-311.pyc b/src/weapons/__pycache__/weapon.cpython-311.pyc
index 46a52ee..de94ee4 100644
Binary files a/src/weapons/__pycache__/weapon.cpython-311.pyc and b/src/weapons/__pycache__/weapon.cpython-311.pyc differ
diff --git a/src/weapons/developer-guide.md b/src/weapons/developer-guide.md
index f017ee8..2acc480 100644
--- a/src/weapons/developer-guide.md
+++ b/src/weapons/developer-guide.md
@@ -6,15 +6,19 @@
 ## Files
 - `weapon.py`: base `Weapon` dataclass with ammo, fire-rate cooldown, and firing logic.
 - `pistol.py`: starter `Pistol` implementation with tuned default stats.
+- `shotgun.py`: close-range spread weapon with multi-pellet projectile payload.
+- `assault_rifle.py`: rapid-fire automatic weapon with larger magazine.
+- `rpg.py`: rocket launcher that sets a crash trigger flag when fired.
 
 ## Key Behaviors
 - `Weapon.fire(now)` returns `True` only when:
   - ammo remains in the magazine, and
   - cooldown time since last shot has elapsed.
 - Successful fire events decrement `ammo_in_magazine` by exactly one.
+- `Weapon.reload()` transfers reserve ammo into the magazine and returns rounds loaded.
+- `Weapon.create_projectile_payload(...)` produces normalized projectile spawn payload consumed by the projectile system.
 - `Pistol` defaults:
   - damage `20`
   - fire rate `3` shots/sec
   - magazine size `12`
   - reserve ammo `48`
-
diff --git a/src/weapons/weapon.py b/src/weapons/weapon.py
index b25dd6e..0cb1c53 100644
--- a/src/weapons/weapon.py
+++ b/src/weapons/weapon.py
@@ -3,6 +3,25 @@
 from __future__ import annotations
 
 from dataclasses import dataclass
+from math import sqrt
+
+
+Vector3 = tuple[float, float, float]
+
+
+def _normalize(direction: Vector3) -> Vector3:
+    length = sqrt(
+        (direction[0] * direction[0])
+        + (direction[1] * direction[1])
+        + (direction[2] * direction[2])
+    )
+    if length <= 0.0:
+        raise ValueError("Direction vector must be non-zero.")
+    return (
+        direction[0] / length,
+        direction[1] / length,
+        direction[2] / length,
+    )
 
 
 @dataclass
@@ -14,6 +33,9 @@ class Weapon:
     fire_rate: float
     magazine_size: int
     reserve_ammo: int
+    projectile_speed: float = 80.0
+    projectile_radius: float = 0.08
+    projectile_kind: str = "bullet"
     ammo_in_magazine: int | None = None
     _last_fired_at: float = -1_000_000.0
 
@@ -22,11 +44,23 @@ class Weapon:
             self.ammo_in_magazine = self.magazine_size
         if self.fire_rate <= 0:
             raise ValueError(f"fire_rate must be positive, got {self.fire_rate}")
+        if self.projectile_speed <= 0:
+            raise ValueError(f"projectile_speed must be positive, got {self.projectile_speed}")
 
     @property
     def cooldown_seconds(self) -> float:
         return 1.0 / self.fire_rate
 
+    @property
+    def total_remaining_ammo(self) -> int:
+        return self.reserve_ammo + self.ammo_in_magazine
+
+    def is_magazine_full(self) -> bool:
+        return self.ammo_in_magazine >= self.magazine_size
+
+    def can_reload(self) -> bool:
+        return (not self.is_magazine_full()) and self.reserve_ammo > 0
+
     def can_fire(self, now: float) -> bool:
         """Return True when weapon has ammo and cooldown is ready."""
         has_ammo = self.ammo_in_magazine > 0
@@ -41,3 +75,26 @@ class Weapon:
         self._last_fired_at = now
         return True
 
+    def reload(self) -> int:
+        """Move reserve ammo into magazine and return rounds loaded."""
+        if not self.can_reload():
+            return 0
+        missing_rounds = self.magazine_size - self.ammo_in_magazine
+        rounds_loaded = min(missing_rounds, self.reserve_ammo)
+        self.ammo_in_magazine += rounds_loaded
+        self.reserve_ammo -= rounds_loaded
+        return rounds_loaded
+
+    def create_projectile_payload(self, origin: Vector3, direction: Vector3) -> list[dict]:
+        """Return projectile payload for a successful shot."""
+        normalized = _normalize(direction)
+        return [
+            {
+                "kind": self.projectile_kind,
+                "origin": origin,
+                "direction": normalized,
+                "speed": self.projectile_speed,
+                "radius": self.projectile_radius,
+                "damage": self.damage,
+            }
+        ]
diff --git a/tasks.md b/tasks.md
index 770ff01..e1a63fc 100644
--- a/tasks.md
+++ b/tasks.md
@@ -12,10 +12,10 @@
 
 - [x] Implement main game loop with frame updates and delta time handling
 - [x] Create game state manager to handle different states (menu, playing, paused, crashed)
-- [ ] Implement camera system with first-person perspective and mouse look controls
+- [x] Implement camera system with first-person perspective and mouse look controls
 - [x] Create input handler for WASD movement and mouse controls
-- [ ] Implement player movement with collision detection
-- [ ] Create physics system for projectile movement and collision
+- [x] Implement player movement with collision detection
+- [x] Create physics system for projectile movement and collision
 - [ ] Implement raycasting system for shooting mechanics
 - [ ] Create game clock and time management system
 
@@ -25,21 +25,21 @@
 - [x] Implement player health system with damage and death handling
 - [x] Create player money/currency tracking system
 - [x] Implement player inventory system to track owned weapons
-- [ ] Create player weapon switching logic
+- [x] Create player weapon switching logic
 - [x] Implement player shooting mechanics with ammo consumption
-- [ ] Add player respawn or game over logic on death
+- [x] Add player respawn or game over logic on death
 - [ ] Create src/player folder developer-guide.md
 
 ## Weapon System
 
 - [x] Create base Weapon class with common properties (damage, ammo, fire rate)
 - [x] Implement Pistol weapon with stats and firing behavior
-- [ ] Implement Shotgun weapon with spread pattern and high damage
-- [ ] Implement Assault Rifle weapon with rapid fire mechanics
-- [ ] Implement RPG weapon with special "crash" trigger behavior
+- [x] Implement Shotgun weapon with spread pattern and high damage
+- [x] Implement Assault Rifle weapon with rapid fire mechanics
+- [x] Implement RPG weapon with special "crash" trigger behavior
 - [ ] Create weapon switching system with smooth transitions
-- [ ] Implement ammo management and reload mechanics
-- [ ] Create projectile system for bullets and rockets
+- [x] Implement ammo management and reload mechanics
+- [x] Create projectile system for bullets and rockets
 - [ ] Add weapon visual representations using geometric primitives
 - [ ] Create src/weapons folder developer-guide.md
 
diff --git a/tests/developer-guide.md b/tests/developer-guide.md
index 6c1bc57..540f170 100644
--- a/tests/developer-guide.md
+++ b/tests/developer-guide.md
@@ -16,6 +16,7 @@ This directory contains the automated test suite for the FPS Bot Arena project.
 - `test_config.py`: validates immutable config defaults.
 - `test_core_systems.py`: validates game clock, state transitions, input handling, and loop update dispatch behavior.
 - `test_player_and_weapons.py`: validates player health/economy/inventory/shooting and weapon cooldown/ammo behavior.
+- `test_advanced_combat_and_movement.py`: validates first-person camera look, movement collision/slide, weapon switching + reload + respawn, new weapon behaviors, and projectile physics collisions.
 
 ## Running Tests
 To run all tests, execute the following command from the project root:
LLM prompt end (stdin)
Process PID: 29992
YOLO mode is enabled. All tool calls will be automatically approved.
Loaded cached credentials.
YOLO mode is enabled. All tool calls will be automatically approved.
Hook registry initialized with 0 hook entries
I have written the commit message to `.agentharness/git-commit-message.txt` as requested.
Process exited with code 0. Output length: 301 chars.
End: 2026-02-08T18:19:36
__AGENTHARNESS_LIVE_DONE__
